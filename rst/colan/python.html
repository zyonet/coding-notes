

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Python &mdash; Coding Notes latest documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/aliwang-custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2. Cpp" href="cpp.html" />
    <link rel="prev" title="5. MkDocs" href="../dt/mkdocs.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Coding Notes
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">AI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ai/deep-learning.html">1. Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ai/tensorflow.html">2. Tensorflow</a></li>
</ul>
<p class="caption"><span class="caption-text">Unix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../unix/android.html">1. Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/docker.html">2. Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/mac.html">3. Mac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/ubuntu.html">4. Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/ssh.html">5. SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/zsh-shell.html">6. Zsh Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/supervisor.html">7. Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/ports.html">8. Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/git.html">9. Git Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/svn.html">10. SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/anaconda.html">11. Anaconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/vim.html">12. Vim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/htcondor.html">13. HTCondor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/opencv.html">14. OpenCV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/input-method.html">15. Input Method</a></li>
</ul>
<p class="caption"><span class="caption-text">Video Coding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../videocoding/ffmpeg.html">1. ffmpeg</a></li>
</ul>
<p class="caption"><span class="caption-text">Web Dev</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../webdev/frontend-node.html">1. Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/frontend-npm.html">2. NPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/frontend-react-redux.html">3. React &amp; Redux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/backend-django.html">4. Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/backend-drf.html">5. Django Rest Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/backend-psql.html">6. PostgreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/backend-dot.html">7. Django OAuth Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/nginx.html">8. Nginx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/http.html">9. HTTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/ssl.html">10. Secure Sockets Layer (SSL/TLS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/internet.html">11. Internet</a></li>
</ul>
<p class="caption"><span class="caption-text">Write the Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dt/sphinx-get-started.html">1. Sphinx Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dt/sphinx-how-to.html">2. Sphinx How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dt/markdown.html">3. Markdown How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dt/gitbook.html">4. GitBook How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dt/mkdocs.html">5. MkDocs</a></li>
</ul>
<p class="caption"><span class="caption-text">Coding Languages</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-information-of-what-pythons-that-you-have-on-your-linux">1.1. Get information of what Pythons that you have on your linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-python3-6-on-ubuntu-16-04-from-source">1.2. Install Python3.6 on Ubuntu 16.04 from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-venv-with-python-version-specified">1.3. Install venv with python version specified</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mixin">1.4. Mixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="#find-current-directory-and-file-s-directory">1.5. Find current directory and file’s directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#print-the-python-exception">1.6. Print the Python Exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-all-attributes-of-a-python-object">1.7. Get all attributes of a python object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-assertions">1.8. Python Assertions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-get-username-homedirectory-hostname-in-python">1.9. How to get Username HomeDirectory Hostname in python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-username">1.9.1. Get Username</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-home-directory">1.9.2. Get Home Directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-hostname">1.9.3. Get hostname</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-round-up-float-number">1.10. How to round up float number</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-exit-python-scripts">1.11. How to Exit Python Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cpp.html">2. Cpp</a></li>
</ul>
<p class="caption"><span class="caption-text">Windows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../win/windows.html">1. Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../win/proxy.html">2. Proxy</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/keymaps.html">1. Keymaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/pgp.html">2. PGP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/tmp_info.html">3. Temporary stuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/rst_example.html">4. Restructured Text (reST) and Sphinx CheatSheet</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Coding Notes</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">1. </span>Python</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="python">
<h1><span class="section-number">1. </span>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h1>
<p>This section has some python memos.</p>
<div class="section" id="get-information-of-what-pythons-that-you-have-on-your-linux">
<h2><span class="section-number">1.1. </span>Get information of what Pythons that you have on your linux<a class="headerlink" href="#get-information-of-what-pythons-that-you-have-on-your-linux" title="Permalink to this headline">¶</a></h2>
<p>If we assume that a Python binary is always going to be called <code class="docutils literal notranslate"><span class="pre">python&lt;something&gt;</span></code> and be a binary file, we can just search the entire system for files that match those criteria:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo find / -type f -executable -iname <span class="s1">&#39;python*&#39;</span> -exec file -i <span class="s1">&#39;{}&#39;</span> <span class="se">\;</span> <span class="p">|</span> awk -F: <span class="s1">&#39;/x-executable; charset=binary/ {print $1}&#39;</span> <span class="p">|</span> xargs readlink -f <span class="p">|</span> sort -u <span class="p">|</span> xargs -I % sh -c <span class="s1">&#39;echo -n &quot;%: &quot;; % -V&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="install-python3-6-on-ubuntu-16-04-from-source">
<h2><span class="section-number">1.2. </span>Install Python3.6 on Ubuntu 16.04 from source<a class="headerlink" href="#install-python3-6-on-ubuntu-16-04-from-source" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">step1</span></code>: First we need to install some dependencies using the commands below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt install build-essential checkinstall
$ sudo apt install libreadline-gplv2-dev libncursesw5-dev libssl-dev libsqlite3-dev tk-dev libgdbm-dev libc6-dev libbz2-dev
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">step2</span></code>: Download python3.6.1 source code (XZ compressed source tarball) from</p>
<dl class="field-list simple">
<dt class="field-odd">python org</dt>
<dd class="field-odd"><p><a class="reference external" href="https://www.python.org/downloads/release/python-361/">https://www.python.org/downloads/release/python-361/</a></p>
</dd>
</dl>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ wget https://www.python.org/ftp/python/3.6.1/Python-3.6.1.tar.xz
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">step3</span></code>: Extract the tarball.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tar xvf Python-3.6.1.tar.xz
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">step4</span></code>: cd into the source directory, configure the build environment and install.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want a release build with all optimizations active (LTO, PGO, etc), please run <code class="docutils literal notranslate"><span class="pre">./configure</span> <span class="pre">--enable-optimizations</span></code> instead of <code class="docutils literal notranslate"><span class="pre">./configure</span></code>.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> Python-3.6.1/
$ ./configure --enable-optimizations
$ sudo make altinstall
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">altinstall</span></code> command skips creating symlink, so /usr/bin/python still points to the old version of Python and your Ubuntu system won’t break.</p>
<p>Once that’s done, you can use Python3.6 shell by typing the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python3.6
</pre></div>
</div>
</div>
<div class="section" id="install-venv-with-python-version-specified">
<h2><span class="section-number">1.3. </span>Install venv with python version specified<a class="headerlink" href="#install-venv-with-python-version-specified" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt install virtualenv
$ virtualenv venv --system-site-packages -p <span class="sb">`</span>which python3.6<span class="sb">`</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">venv</span></code> is the target directory name.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--system-site-packages</span></code> is for inheriting the system site packages (normally it has no harm, hence it is suggested. Unless you want a super clean python venv)</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>pip will already be installed if you’re working in a <code class="docutils literal notranslate"><span class="pre">Virtual</span> <span class="pre">Environment</span></code> created by <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> or <code class="docutils literal notranslate"><span class="pre">pyvenv</span></code>. So after you install python from source, no need to worry about how to install the corresponding pip, you just need to start a virtual env.</p>
</div>
</div>
<div class="section" id="mixin">
<h2><span class="section-number">1.4. </span>Mixin<a class="headerlink" href="#mixin" title="Permalink to this headline">¶</a></h2>
<p>A mixin is a special kind of <strong>multiple inheritance</strong>.</p>
<p>Mixin is all about DRY. Since it allows us to easily compose reusable bits of behaviours.</p>
<p>There are two main situations where mixins are used:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>You want to provide a lot of optional features for a class.</p></li>
<li><p>You want to use one particular feature in a lot of different classes.</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="find-current-directory-and-file-s-directory">
<h2><span class="section-number">1.5. </span>Find current directory and file’s directory<a class="headerlink" href="#find-current-directory-and-file-s-directory" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Path at terminal when executing this file&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;This file path, relative to os.getcwd()&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="vm">__file__</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;This file full path (following symlinks)&quot;</span><span class="p">)</span>
<span class="n">full_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">full_path</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;This file directory and name&quot;</span><span class="p">)</span>
<span class="n">path</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">full_path</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39; --&gt; &#39;</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;This file directory only&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_path</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="print-the-python-exception">
<h2><span class="section-number">1.6. </span>Print the Python Exception<a class="headerlink" href="#print-the-python-exception" title="Permalink to this headline">¶</a></h2>
<p>Python2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</pre></div>
</div>
<p>Python3:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For using <code class="docutils literal notranslate"><span class="pre">ObejctDoesNotExist</span></code>, we needs to import it first. See below.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.core.exceptions</span> <span class="kn">import</span> <span class="n">ObjectDoesNotExist</span>
<span class="k">try</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">except</span> <span class="n">ObjectDoesNotExist</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="get-all-attributes-of-a-python-object">
<h2><span class="section-number">1.7. </span>Get all attributes of a python object<a class="headerlink" href="#get-all-attributes-of-a-python-object" title="Permalink to this headline">¶</a></h2>
<p>It is very simple but powerful, just use the build-in function of <code class="docutils literal notranslate"><span class="pre">dir</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">obj</span><span class="o">-</span><span class="n">here</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="python-assertions">
<span id="python-assertions-label"></span><h2><span class="section-number">1.8. </span>Python Assertions<a class="headerlink" href="#python-assertions" title="Permalink to this headline">¶</a></h2>
<p>The TestCase class provides several assert methods to check for and report failures. The following table lists the most commonly used methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">==========================</span>  <span class="o">==========================</span> <span class="o">======</span>
<span class="n">Method</span>                           <span class="n">Checks</span> <span class="n">that</span>                    <span class="n">New</span> <span class="ow">in</span>
<span class="o">==========================</span>  <span class="o">==========================</span> <span class="o">======</span>
<span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>                   <span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="n">assertNotEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>                <span class="n">a</span> <span class="o">!=</span> <span class="n">b</span>

<span class="n">assertTrue</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                       <span class="nb">bool</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="n">assertFalse</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                      <span class="nb">bool</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>

<span class="n">assertIs</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>                      <span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>                      <span class="mf">3.1</span>
<span class="n">assertIsNot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>                   <span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">b</span>                  <span class="mf">3.1</span>

<span class="n">assertIsNone</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                     <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span>                   <span class="mf">3.1</span>
<span class="n">assertIsNotNone</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                  <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>               <span class="mf">3.1</span>

<span class="n">assertIn</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>                      <span class="n">a</span> <span class="ow">in</span> <span class="n">b</span>                      <span class="mf">3.1</span>
<span class="n">assertNotIn</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>                   <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">b</span>                  <span class="mf">3.1</span>

<span class="n">assertIsInstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>              <span class="n">isInstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>            <span class="mf">3.2</span>
<span class="n">assertNotIsInstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>           <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>        <span class="mf">3.2</span>

<span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>             <span class="nb">round</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="n">assertNotAlmostEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>          <span class="nb">round</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>

<span class="n">assertGreater</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>                 <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span>                       <span class="mf">3.1</span>
<span class="n">assertGreaterEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>            <span class="n">a</span> <span class="o">&gt;=</span> <span class="n">b</span>                      <span class="mf">3.1</span>

<span class="n">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>                    <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span>                       <span class="mf">3.1</span>
<span class="n">assertLessEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>               <span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span>                      <span class="mf">3.1</span>

<span class="n">assertRegex</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>                   <span class="n">r</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>                 <span class="mf">3.1</span>
<span class="n">assertNotRegex</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>                <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>             <span class="mf">3.2</span>

<span class="n">assertCountEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>              <span class="o">*</span><span class="n">a</span><span class="o">*</span> <span class="ow">and</span> <span class="o">*</span><span class="n">b</span><span class="o">*</span> <span class="n">have</span> <span class="n">the</span>        <span class="mf">3.2</span>
                                    <span class="n">same</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">the</span>
                                    <span class="n">same</span> <span class="n">number</span><span class="p">,</span> <span class="n">regardless</span>
                                    <span class="n">of</span> <span class="n">their</span> <span class="n">order</span>
</pre></div>
</div>
<p>Ref:</p>
<dl class="field-list simple">
<dt class="field-odd">Install python # 1</dt>
<dd class="field-odd"><p><a class="reference external" href="https://www.linuxbabe.com/ubuntu/install-python-3-6-ubuntu-16-04-16-10-17-04">https://www.linuxbabe.com/ubuntu/install-python-3-6-ubuntu-16-04-16-10-17-04</a></p>
</dd>
<dt class="field-even">Install python # 2</dt>
<dd class="field-even"><p><a class="reference external" href="https://pip.pypa.io/en/stable/installing/">https://pip.pypa.io/en/stable/installing/</a></p>
</dd>
<dt class="field-odd">Mixin</dt>
<dd class="field-odd"><p><a class="reference external" href="https://stackoverflow.com/questions/533631/what-is-a-mixin-and-why-are-they-useful">https://stackoverflow.com/questions/533631/what-is-a-mixin-and-why-are-they-useful</a></p>
</dd>
</dl>
</div>
<div class="section" id="how-to-get-username-homedirectory-hostname-in-python">
<h2><span class="section-number">1.9. </span>How to get Username HomeDirectory Hostname in python<a class="headerlink" href="#how-to-get-username-homedirectory-hostname-in-python" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-username">
<h3><span class="section-number">1.9.1. </span>Get Username<a class="headerlink" href="#get-username" title="Permalink to this headline">¶</a></h3>
<p>User <code class="docutils literal notranslate"><span class="pre">getpass.getuser</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">getpass</span>
<span class="n">username</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getuser</span><span class="p">()</span>
<span class="k">print</span> <span class="n">username</span>
</pre></div>
</div>
</div>
<div class="section" id="get-home-directory">
<h3><span class="section-number">1.9.2. </span>Get Home Directory<a class="headerlink" href="#get-home-directory" title="Permalink to this headline">¶</a></h3>
<p>User <code class="docutils literal notranslate"><span class="pre">os.environ</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">homedir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="n">homedir</span>
</pre></div>
</div>
</div>
<div class="section" id="get-hostname">
<h3><span class="section-number">1.9.3. </span>Get hostname<a class="headerlink" href="#get-hostname" title="Permalink to this headline">¶</a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">socket.gethostname</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">socket</span>
<span class="n">hostname</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()</span>
<span class="k">print</span> <span class="n">hostname</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="how-to-round-up-float-number">
<h2><span class="section-number">1.10. </span>How to round up float number<a class="headerlink" href="#how-to-round-up-float-number" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="mf">4.2</span><span class="p">)</span>
</pre></div>
</div>
<p>Use the ceil function to round up float number. Very convenient.</p>
</div>
<div class="section" id="how-to-exit-python-scripts">
<h2><span class="section-number">1.11. </span>How to Exit Python Scripts<a class="headerlink" href="#how-to-exit-python-scripts" title="Permalink to this headline">¶</a></h2>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Be arefule of <strong>endless</strong> python loop!!</p>
</div>
<p>To avoid the scripts enter the endless loop, please pay attention when using the keywords of <code class="docutils literal notranslate"><span class="pre">while</span></code> <code class="docutils literal notranslate"><span class="pre">continue</span></code>.
Like the codes below,
1. If the investment amount keeps insufficient, the while loop will be endless.
2. Then if you are using <code class="docutils literal notranslate"><span class="pre">crontab</span></code> scheduling this to run every minute, then your computing resources will fully consumed/occupied, that will be a problem, slow your server down.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">transaction</span><span class="o">.</span><span class="n">atomic</span><span class="p">():</span>
        <span class="n">black_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">Flag</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="c1">######## without the block below, you might get into endless loop###################</span>
        <span class="n">var_x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">inv</span> <span class="ow">in</span> <span class="n">invs_dict</span><span class="p">[</span><span class="n">prod</span><span class="o">.</span><span class="n">id</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">inv</span><span class="o">.</span><span class="n">usable_amount</span> <span class="o">&gt;</span> <span class="mi">2500</span><span class="p">:</span>
                <span class="n">var_x</span> <span class="o">+=</span> <span class="n">inv</span><span class="o">.</span><span class="n">usable_amount</span>
        <span class="k">if</span> <span class="n">var_x</span> <span class="o">&lt;</span> <span class="n">amount2collect</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;need more matchable amount&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">TELE_PROD</span><span class="p">:</span>
                <span class="n">msg_sending</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">TelegramMsg</span><span class="p">(</span><span class="n">idr</span><span class="o">=</span><span class="s1">&#39;-193798035&#39;</span><span class="p">,</span>
                                             <span class="n">m</span><span class="o">=</span><span class="s1">&#39;We need more investments from lenders since we don</span><span class="se">\&#39;</span><span class="s1">t have sufficient money for disbursing &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
                                                 <span class="n">bor</span><span class="o">.</span><span class="n">ref_num</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg_sending</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">TelegramMsg</span><span class="p">(</span><span class="n">idr</span><span class="o">=</span><span class="s1">&#39;-202467590&#39;</span><span class="p">,</span>
                                             <span class="n">m</span><span class="o">=</span><span class="s1">&#39;We need more investments from lenders since we don</span><span class="se">\&#39;</span><span class="s1">t have sufficient money for disbursing &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
                                                 <span class="n">bor</span><span class="o">.</span><span class="n">ref_num</span><span class="p">))</span>
            <span class="n">msg_sending</span><span class="o">.</span><span class="n">send_msg_to_notification_group</span><span class="p">()</span>
            <span class="k">break</span>
        <span class="c1">######## without the block above, you might get into endless loop###################</span>
        <span class="k">while</span> <span class="n">Flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">amount2collect</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">random_inv</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">invs_dict</span><span class="p">[</span><span class="n">prod</span><span class="o">.</span><span class="n">id</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">random_inv</span><span class="o">.</span><span class="n">usable_amount</span> <span class="o">&lt;=</span> <span class="mi">2500</span><span class="p">:</span>
                <span class="k">continue</span>
</pre></div>
</div>
<ul class="simple">
<li><p>to stop a python script just press <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">c</span></code></p></li>
<li><p>inside a script with <code class="docutils literal notranslate"><span class="pre">exit()</span></code></p></li>
<li><p>you can do it in an interactive script with just exit</p></li>
<li><p>you can use <code class="docutils literal notranslate"><span class="pre">pkill</span> <span class="pre">-f</span> <span class="pre">name-of-the-python-script</span></code></p></li>
</ul>
<p>But be aware, if your script stepped into an endless loop, and you are using crontab scheduling it, then all the four methods are not applicable, even the second one which is using <code class="docutils literal notranslate"><span class="pre">exit()</span></code> since your script can never get into <code class="docutils literal notranslate"><span class="pre">exit()</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cpp.html" class="btn btn-neutral float-right" title="2. Cpp" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../dt/mkdocs.html" class="btn btn-neutral float-left" title="5. MkDocs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017-2020, WANG Zhenxiang Pharrell

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>